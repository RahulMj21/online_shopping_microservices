"use strict";var f=Object.create;var p=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var $=Object.getPrototypeOf,P=Object.prototype.hasOwnProperty;var y=(o,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of u(t))!P.call(o,a)&&a!==r&&p(o,a,{get:()=>t[a],enumerable:!(n=g(t,a))||n.enumerable});return o};var c=(o,t,r)=>(r=o!=null?f($(o)):{},y(t||!o||!o.__esModule?p(r,"default",{value:o,enumerable:!0}):r,o));var h=c(require("express")),l=c(require("express-http-proxy"));var e=require("winston"),{combine:O,timestamp:Y,label:b,printf:w,colorize:x}=e.format,A=w(({level:o,message:t,label:r,timestamp:n})=>`[${n}] ${r} ${o}: ${t}`),m=(0,e.createLogger)({format:O(b({label:"\u{1F680}"}),x(),Y({format:"DD-MM-YYYY HH:mm:ssA Z"}),A),transports:[new e.transports.Console]});var s=(0,h.default)(),i=process.env.PORT||8e3;s.use((o,t,r)=>{m.info(`${o.method} ==> ${o.path}`),r()});s.get("/healthcheck",(o,t)=>t.status(200).json({status:"OK",message:"Hello from API Gateway"}));s.all("/customer/*",(0,l.default)("http://localhost:8001"));s.all("/product/*",(0,l.default)("http://localhost:8002"));s.all("/shopping/*",(0,l.default)("http://localhost:8003"));s.listen(i,()=>m.info(`API Gateway running on PORT ${i}`));
